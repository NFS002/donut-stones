var e=Object.defineProperty;import{l as t,r as n,R as a,u as s,B as r,a as o,f as i,J as l,C as c,t as u,b as d,W as p,I as m,N as y,U as h,c as b,d as f,Q as g,e as w,g as v,T as x,h as k}from"./vendor.f8be0656.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var E=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var T=[{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"address payable",name:"_wallet",type:"address"},{internalType:"contract ERC20",name:"_token",type:"address"},{internalType:"address",name:"_tokenWallet",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"purchaser",type:"address"},{indexed:!0,internalType:"address",name:"beneficiary",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"TokensPurchased",type:"event"},{inputs:[{internalType:"address",name:"beneficiary",type:"address"}],name:"buyTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"rate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"remainingTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenWallet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wallet",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"weiRaised",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],C={warn:t.warn,debug:t.debug,info:t.info,error:t.error,trace:t.trace,setLevel:t.setLevel};function N({className:e,counterClockwise:t,dashRatio:a,pathRadius:s,strokeWidth:r,style:o}){return n.exports.createElement("path",{className:e,style:Object.assign({},o,M({pathRadius:s,dashRatio:a,counterClockwise:t})),d:S({pathRadius:s,counterClockwise:t}),strokeWidth:r,fillOpacity:0})}function S({pathRadius:e,counterClockwise:t}){const n=t?1:0;return`\n      M 50,50\n      m 0,-${e}\n      a ${e},${e} ${n} 1 1 0,${2*e}\n      a ${e},${e} ${n} 1 1 0,-${2*e}\n    `}function M({counterClockwise:e,dashRatio:t,pathRadius:n}){const a=2*Math.PI*n,s=(1-t)*a;return{strokeDasharray:`${a}px ${a}px`,strokeDashoffset:`${e?-s:s}px`}}class P extends n.exports.Component{getBackgroundPadding(){return this.props.background?this.props.backgroundPadding:0}getPathRadius(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()}getPathRatio(){const{value:e,minValue:t,maxValue:n}=this.props;return(Math.min(Math.max(e,t),n)-t)/(n-t)}render(){const{circleRatio:e,className:t,classes:a,counterClockwise:s,styles:r,strokeWidth:o,text:i}=this.props,l=this.getPathRadius(),c=this.getPathRatio();return n.exports.createElement("svg",{className:`${a.root} ${t}`,style:r.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?n.exports.createElement("circle",{className:a.background,style:r.background,cx:50,cy:50,r:50}):null,n.exports.createElement(N,{className:a.trail,counterClockwise:s,dashRatio:e,pathRadius:l,strokeWidth:o,style:r.trail}),n.exports.createElement(N,{className:a.innertrail,counterClockwise:s,dashRatio:e,pathRadius:l,strokeWidth:o,style:r.trail}),n.exports.createElement(N,{className:a.path,counterClockwise:s,dashRatio:c*e,pathRadius:l,strokeWidth:o,style:r.path}),i?n.exports.createElement("text",{className:a.text,style:r.text,x:50,y:50},i):null)}}var R;function $({rotation:e,strokeLinecap:t,textColor:n,textSize:a,pathColor:s,pathTransition:r,pathTransitionDuration:o,trailColor:i,backgroundColor:l}){const c=null==e?void 0:`rotate(${e}turn)`,u=null==e?void 0:"center center";return{root:{},path:F({stroke:s,strokeLinecap:t,transform:c,transformOrigin:u,transition:r,transitionDuration:null==o?void 0:`${o}s`}),trail:F({stroke:i,strokeLinecap:t,transform:c,transformOrigin:u}),text:F({fill:n,fontSize:a}),background:F({fill:l})}}function F(e){return Object.keys(e).forEach((t=>{null==e[t]&&delete e[t]})),e}function L(){return a.createElement("div",{className:"ds-card-text"},a.createElement("p",null,"Donut Stones is an ERC20 cryptographic token created as solution to the problem of the limits of economic growth, and the traditional economic mechanisms of distrubuting value within a population. Partially inspired by the growing popular research on ",a.createElement("a",{className:"text-italic",href:"https://doughnuteconomics.org/about-doughnut-economics"},"doughnut economics by Kate Raworth")," that illlustrates many of the flaws in traditional growth-based economies. As these economies grow and scales, maginalised portions of the population become larger and increasingly neglected whilst environmental resoured become abused and increasingly degraded. Donut Stones (â……) is a solution to this problem, and is designed to be a ",a.createElement("span",{className:"text-italic"},"secondary currency"),", to circulate alongside traditional fiat currencies such as GBP or USD. According to the Economic Policy Institute, as of 2019, the average wage of the top 1% was $758,434. However, the 1% is not necessarily a reference to top 1% of wage earners, but a reference to the top 1% of individuals by net worth, of which earned wages are only a fraction of the many factors that contribute to their wealth. Underlying this is the simple fact that money makes money, and so as more bank notes are printed, for example during the COVID-19 pandemic, this inequality actually worsens. So if we imagine the distribution of wealth within an economy as a doughut shape whereby the largest proportion of the population is concentrated at the center along with the most severe inequalities and basic human necessities, whilst excess wealth and environmental degrdation marks the perimeter, then ",a.createElement("span",{className:"text-bold text-italic"},"Donut Stones follows the inverse model")," concentrated at the center of the doughut, and becoming increasingly scarce and more tightly regulated towards the perimeter. Of course, to achieve this, the distribution, exchange and spending of Donut Stones must be very tightly regulated and a variable exchange where the price depends on the person exchanging. A cryptocurrency therefore may seem like a very odd choice of iplementation for any currency that requires such strict regulation. However, I actually believer that ERC20 tokens and smart contracts provide some very interesting and useful properties that could fit this use case very well. Donut Stones is still its very early stages, and so as of yet, no variable exchange rate or any of the other required infrastructure has been implemented, and so you can buy donutstones below for a negligble rate. To show your support for the project, leave a comment below or email me at ",a.createElement("a",{href:"mailto:info@donutstones.org",className:"text-italic"},"info@donutstones.org"),", and I will aim to keep this page updated.",a.createElement("br",null)))}function I(){return a.createElement("div",{className:"ds-logo"},a.createElement("span",null,a.createElement("span",{className:"ds-logo-caps"},"D"),"onutÂ "),a.createElement("span",null,a.createElement("span",{className:"ds-logo-caps"},"S"),"tonesÂ "))}((t,n,a)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a})(P,"symbol"!=typeof(R="defaultProps")?R+"":R,{background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",innertrail:"CircularProgressbar-trail CircularProgressbar-innertrail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""});const O="https://eth-rinkeby.alchemyapi.io/v2/jygflwgUGI3R3nTeuQK2bd3wLKcWxyHZ",D=({crowdsaleAddress:e})=>{const{library:t,chainId:m,account:y}=s(),[h,b]=n.exports.useState(""),[f,g]=n.exports.useState("0"),[w,v]=n.exports.useState(r.from("500")),[x,k]=n.exports.useState(r.from("3"));n.exports.useState(1);var N=1,S=2573.54;const M=async function(){var e=document.getElementById("number-of-tokens-to-buy");e&&e.value&&(N=+e.value);const t=18,n=N*w.toNumber(),a=await i(n);try{await(async()=>{const e=await d.post("https://min-api.cryptocompare.com/data/price",{fsym:"ETH",tsyms:"GBP",sign:!0});S=e.data.GBP})()}catch(u){console.warn(u,`Fetch failed, defaulting to Â£${S}/ETH`)}const s=(+a*S).toFixed(t),r=(+a).toFixed(t),o=n.toFixed(t);var l=document.getElementById("number-of-tokens-to-buy-values");if(l){var c=`\n      <p>${String(o).substring(0,t)} <span class="text-blue">Wei</span> </p>\n      <p>${String(r).substring(0,t)} <span class="text-blue">ETH</span> </p>\n      <p>${String(s).substring(0,t)} <span class="text-blue">GBP</span> </p>\n      `;l.innerHTML=c}};n.exports.useEffect((()=>{try{C.warn("fetchCrowdsaleTokenInfo");const n=t||new l(O),a=new c(e,T,n);a.token().then(b).catch(C.error),a.remainingTokens().then((e=>g(r.from(e).toString()))).catch(C.error),a.rate().then((e=>v(e))).catch(C.error)}catch(n){C.error(n)}}),[t]);const{error:R,isLoading:F,data:D}=o(["token-info",h],(async()=>{C.warn("fetchTokenInfo");const t=window.ethereum?new p(window.ethereum):new l(O),n=new c(h,E,t),a=new c(e,T,t),s=await n.name(),r=await n.symbol(),o=await n.decimals(),i=await n.totalSupply(),u=await a.remainingTokens(),d=await a.rate();return k(i.sub(u)),C.warn("token info",{name:s,symbol:r,decimals:o,totalSupply:i,remainingTokens:u,tokensSoldPerc:x}),{name:s,symbol:r,decimals:o,totalSupply:i,tokenRate:d,tokensSoldPerc:x}}),{enabled:""!==h});return Object.assign({name:"DonutStone",symbol:"DS",tokensSoldPerc:r.from("3"),tokenRate:r.from("500"),error:R},D),M(),a.createElement("div",{className:"ds-card"},a.createElement("div",{className:"ds-card-body row"},a.createElement("div",{className:"ds-main-column col-xs-10"},a.createElement(I,null),a.createElement(L,null),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"ds-progress-bar-wrapper"},a.createElement(P,{value:+x.toString().substring(0,1),text:`${x.toString().substring(0,1)}% sold`,strokeWidth:5,styles:$({textSize:"10px",strokeLinecap:"butt",pathColor:"#FFFFFF",textColor:"#FFFFFF"})})),a.createElement("span",{className:"text-orange text-xl"},"â“˜"," "),a.createElement("a",{id:"etherscan-link",className:"text-grey italic",href:`https://rinkeby.etherscan.io/token/${h}`,target:"_blank"},a.createElement("span",null,"View contract on Etherscan"))),a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"ds-checkout"},a.createElement("p",{className:"text-grey"},"Buy Donut Stones"),a.createElement("div",null,a.createElement("input",{onChange:M,onLoad:M,id:"number-of-tokens-to-buy",type:"number",placeholder:"1"}),a.createElement("button",{id:"number-of-tokens-to-buy-btn",onClick:async()=>{const n=(t||new l(O)).getSigner();try{if(!y)return void(await(async()=>{var e;if(null==(e=window.ethereum)?void 0:e.request)return window.ethereum.request({method:"eth_requestAccounts"});throw new Error("Please access https://metamask.io/ to install the Metamask extension on your browser")})());const t={to:e,value:w.mul(N)};console.warn(t);const s=await n.sendTransaction(t);u.promise(s.wait(),{loading:"Transaction submitted. Wait for confirmation...",success:a.createElement("b",null,"Transaction confirmed!"),error:"Transaction failed. Check the console for details"})}catch(s){console.error(s)}}},"â……")),a.createElement("div",{id:"number-of-tokens-to-buy-values",className:"text-white typed-text"},a.createElement("p",null,a.createElement("span",{className:"text-blue"})," "),a.createElement("p",null,a.createElement("span",{className:"text-blue"})," "),a.createElement("p",null,a.createElement("span",{className:"text-blue"})," ")))))),a.createElement("div",{className:"col-xs-2 ds-side-column"},a.createElement("div",{className:"ds-vertical-line"}),a.createElement("div",{className:"ds-align-bottom"},a.createElement("div",{className:"ds-img"})))))},A=new m({supportedChainIds:[1,3,4,5,42,56,88,89,97,137,1337,80001]});function W(){const{connector:e,activate:t,deactivate:r,active:o,error:i}=s(),[l,c]=a.useState();a.useEffect((()=>{l&&l===e&&c(void 0)}),[l,e]);!function(e=!1){const{active:t,error:a,activate:r}=s();n.exports.useEffect((()=>{const{ethereum:n}=window;if(n&&n.on&&!t&&!a&&!e){const e=()=>{C.warn("Handling 'connect' event"),r(A)},t=e=>{C.warn("Handling 'chainChanged' event with payload",e),r(A)},a=e=>{C.warn("Handling 'accountsChanged' event with payload",e),e.length>0&&r(A)},s=e=>{C.warn("Handling 'networkChanged' event with payload",e),r(A)};return n.on("connect",e),n.on("chainChanged",t),n.on("accountsChanged",a),n.on("networkChanged",s),()=>{n.removeListener&&(n.removeListener("connect",e),n.removeListener("chainChanged",t),n.removeListener("accountsChanged",a),n.removeListener("networkChanged",s))}}}),[t,a,e,r])}(!function(){const{activate:e,active:t}=s(),[a,r]=n.exports.useState(!1);return n.exports.useEffect((()=>{A.isAuthorized().then((t=>{t?e(A,void 0,!0).catch((()=>{r(!0)})):r(!0)}))}),[]),n.exports.useEffect((()=>{!a&&t&&r(!0)}),[a,t]),a}()||!!l);const u=A===e;return a.createElement("div",{className:"ds-connector text-xl"},a.createElement("div",{className:"text-red"},!!i&&"ðŸš« "+((d=i)instanceof y?"No Ethereum browser extension detected.":d instanceof h?"You're connected to an unsupported network.":d instanceof b||d instanceof f?"Please authorize this website to access your Ethereum account.":"An unknown error occurred. Check the console for more details.")),u&&!Boolean(i)&&a.createElement("div",{className:"text-xl text-orange"},"Connected ðŸ¦Š âœ…"),!u&&!Boolean(i)&&a.createElement("div",{id:"connect-btn",onClick:()=>{c(A),t(A)}},"Connect â†’ ðŸ¦Š"));var d}function B(e){const t=new p(e);return t.pollingInterval=12e3,t}const H=new g;function q(){return a.createElement(w,{getLibrary:B},a.createElement(v,{client:H},a.createElement("div",{className:"ds-container"},a.createElement("div",{className:"App pt-6 shadow-xl"},a.createElement(D,{crowdsaleAddress:"0x9244D4AC8ea8Ab5084a0E0279F77Fb42F41fCc5e"}))),a.createElement(W,null),a.createElement(x,{position:"top-right"})))}k.render(a.createElement(a.StrictMode,null,a.createElement(q,null)),document.getElementById("root"));
